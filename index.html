<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>Pollen programming language</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="pollen.svg">

    <link rel="stylesheet" href="foundation/6.7.5/css/foundation.css">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css' rel='stylesheet' type='text/css'>

    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  </head>
  <body>

    <div class="title-bar">
      <div class="title-bar-left">
        <img src="https://ativarsoft.com/ativarsoft.png" alt="Ativarsoft" style="height: 4em">
      </div>
      <div class="title-bar-title">
        <img src="https://pollen-lang.org/pollen-social-card.svg" alt="Pollen" style="height: 4em;">
      </div>
      <div class="title-bar-right">
        <button class="menu-icon" type="button" data-open="pollen-canvas-menu"></button>
      </div>
    </div>

    <div class="off-canvas-wrapper">
      <div id="pollen-canvas-menu" class="off-canvas position-left" id="offCanvas" data-off-canvas data-content-id="pollen-canvas-content" data-nested="true">
        <button class="close-button" aria-label="Close menu" type="button" data-close>
          <span aria-hidden="true">&times;</span>
        </button>
        <ul class="mobile-ofc vertical menu">
          <li>
            <a href="/"><img src="https://pollen-lang.org/pollen.svg" style="height: 2em;"/> Pollen</a>
          </li>
          <li>
            <ol>
              <li><a href="/news.html">News</a></li>
              <li>
                <a href="playground.html">Playground</a>
              </li>
            </ol>
          </li>
        </ul>
      </div>

      <div id="pollen-canvas-content" class="off-canvas-content" data-off-canvas-content>

    <div class="grid-container">
      <div class="grid-x grid-margin-xy">
        <div class="medium-2 cell">
          <img src="pollen.svg"/>
        </div>
      </div>

      <div class="grid-x grid-margin-xy">
        <div class="large-6 cell">
          <h1>Pollen programmming language</h1>
          <p>
            A programming language with XML syntax. Scripts are a series of complex instructions provided by the runtime. New element tags can be added to the runtime by using general purpose plugins.
          </p>
          <p>
            An HTML template is an HTML model. Templates are preformatted HTML in which text or image content can be inserted into. Most modern template languages have some form of programming in them. Pollen also does that but it reuses the XML systax for that, without having to create a whole new syntax. Therefore new programmers can feel familiarized with the Pollen language right on the beggining of learning on how to code on it.
          </p>
          <p>
            XML tags represent the data structure and contain metadata.
          </p>
          <p>
            Pollen (previously webutils) was created with the intent to stick to the UNIX philosophy of keeping things simple and modular while staying fast and keeping the memory consumption low.
          </p>
          <p>
            The original idea was to create a Common Gateway Interface (CGI) executable and an Apache module. Something like PHP. But instead of interpreting a script, Pollen would load a compiled dynamic library. It provides a simple templating engine while keeping the speed of compiled languagues.
          </p>
          <p>
            The Apache Runtime Library (APR) is being added to ensure good security. APR provides dynamic arrays and memory pools to mitigate use-after-free, buffer overflows and buffer underflows. A good explanation can be found here.
          </p>
          <p>
            setuid can be used to make Apache run Pollen as root. Pollen gets the user and password from the CGI environment flags and use setuid to drop privileges to the specified user. This can be used to restrict filesystem access without using fakechroot. fakechroot provides wrappers for common system calls.
          </p>
          <p>
            libtemplatizer provides common functions which are independent from the templatizer runtime executable. Plugins use libtemplatizer for code reuse.
          </p>
        </div>

        <div class="large-2 cell"></div>

        <div class="large-4 cell">
          <h2>Download</h2>
          <p>
            Pollen is free and open source.
          </p>
          <p>
            <a href="https://github.com/ativarsoft/pollen-lang/releases/download/v1.000/pollen-1.000.deb">
              <img src="pollen-social-card.svg" alt="Free download">
            </a>
          </p>
          <p>
            <a href="playground.html">Playground</a>
          </p>
        </div>
      </div>

      <div class="grid-x grid-margin-xy">

        <div class="medium-4 cell">
          <h2>Plugins</h2>
          <p>
            In computing, a plug-in (or plugin, add-in, addin, add-on, or addon) is a software component that adds a specific feature to an existing computer program. When a program supports plug-ins, it enables customization.
          </p>
          <p>
            Input plugins read url-encoded and JSON input from the client. Those values are then used in a script using the '@' symbol. Input plugins can be selected using the 'templatizer' tag.
          </p>
          <p>
            Dynamic Linker plugins can be used to load programs written in specific programming languages. The plugin is specified using the 'lib' attribute on the 'templatizer' element. The template can set plugin arguments using the 'args' XML attribute.
          </p>
          <p>
            A linker called ld-exec.so can be used to run binary programs or text scripts that begin with a shebang on Linux.
          </p>
          <p>
            Some plugins are full web apps. Text placeholder variables are set using variable names and those variables can be used on XHTML template placeholders. Different websites can have different user interfaces while using the same Templatier app plugin.
          </p>
        </div>

        <div class="medium-2 cell"></div>

        <div class="medium-6 cell">

          <h2>Example</h2>

          <p>
            The following is an example of a program written in Pollen. It prints hello world comming from two Pollen plugins written in different languages. Note that the Pollen syntax this example as well as other Pollen programs were intentionaly made to be similar to XML syntax.
          </p>

          <pre><code class="language-xml">&lt;!-- Copyright (C) 2023 Mateus de Lima Oliveira --&gt;
&lt;templatizer lib=&quot;in_helloworld.so&quot;&gt;
&lt;templatizer lib=&quot;libhelloworld_rs.so&quot;&gt;
&lt;templatizer lib=&quot;headers.so&quot;&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;/&gt;
    &lt;title&gt;Hello world pipeline&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello world pipeline&lt;/h1&gt;
    &lt;p&gt;Hello world Templatizer pipeline in multiple programming languages:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;C: &lt;span&gt;@&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;Rust: &lt;span&gt;@&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;Have a nice day!&lt;/p&gt;
    &lt;templatizer lib=&quot;copyright.so&quot;&gt;
    &lt;p&gt;@&lt;/p&gt;
    &lt;/templatizer&gt;
  &lt;/body&gt;
&lt;/html&gt;
&lt;/templatizer&gt;
&lt;/templatizer&gt;
&lt;/templatizer&gt;
          </code></pre>

        </div>
      </div>

      <div class="grid-y grid-margin-xy">
        <div class="cell">
        <br/>
      </div>

      <div class="grid-x grid-margin-xy">
        <div class="medium-4 cell">
          <h2>Compiling from source</h2>

          <p>Pollen was only tested on Linux.</p>

          <p>It requires:</p>

          <ol>
            <li>sys/queue.h for list macros (installed by default on most Linux distributions);</li>
            <li>libdl for dynamically loading libraries (installed by default on most Linux distributions);</li>
            <li>build-essential;</li>
            <li>libexpat1-dev;</li>
            <li>flex and bison;</li>
            <li>libapr1-dev;</li>
            <li>libvirt-dev;</li>
            <li>liblmdb-dev;</li>
            <li>ldc;</li>
            <li>cargo;</li>
            <li>rustc;</li>
            <li>valgrind;</li>
            <li>llvm-dev.</li>
          </ol>

        </div>

        <div class="medium-2 cell"></div>
          
        <div class="medium-4 cell">
          <pre><code class="language-bash">root@debian:/home/mateus/pollen/# make dependencies
mateus@debian:~/pollen/$ make
mateus@debian:~/pollen/$ make test
root@debian:/home/mateus/pollen/# make install
          </code></pre>

          <h3>Termux</h3>

          <p>Compile Pollen for termux with:</p>

          <pre><code class="language-bash">termux@android:~$ make termux
termux@android:~$ make install
          </code></pre>
        </div>
      </div>
      
      <div class="grid-x grid-margin-xy">
        <div class="cell">
          <br/>
        </div>
      </div>

      <hr>

      <footer>
      <div class="grid-x grid-margin-y expanded">
          <div class="medium-6 cell">
            <ul class="menu">
              <li><a href="https://pollen-lang.org">Start page</a></li>
              <li><a href="https://pollen-lang.org/sponsors">Sponsors</a></li>
              <li><a href="https://github.com/ativarsoft/pollen-lang">GitHub</a></li>
            </ul>
          </div>

          <div class="medium-6 cell">
            <ul class="menu align-right">
              <li class="menu-text">Copyright Â© 2023 Mateus de Lima Oliveira</li>
            </ul>
          </div>
        </div>
      </footer>

    </div> <!-- grid container -->

      </div> <!-- canvas content -->
    </div> <!-- canvas wrapper -->

    <script src="foundation/6.7.5/js/vendor/jquery.js"></script>
    <script src="foundation/6.7.5/js/vendor/what-input.js"></script>
    <script src="foundation/6.7.5/js/vendor/foundation.min.js"></script>
    <script>
      $(document).foundation();
    </script>

    <script>hljs.highlightAll();</script>
  </body>
</html>
